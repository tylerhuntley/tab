# tab
An attempt at parsing sheet music for guitar using computer vision. The goal of this project is two-fold. First, an image of a page of sheet music (for guitar) is processed using the OpenCV computer vision library to ultimately generate an ordered list of musical notes. These notes are then arranged into usable fretboard locations, seeking to maximize playability for a solo guitarist, and transcribed into tablature format.

## Dependencies
Three external libraries are required to use this project:
```
OpenCV, version 3.3.1 or greater, but recent development is done using 4.0.1
Numpy, for manipulating the arrays generated by OpenCV
Matplotlib, for displaying the results of various stages of the program
```
Linux and Windows environments should both work, but MacOS has not been tested.

## Progress
Currently, a given image can be separated into individual staffline regions for separate processing, with moderate accuracy.

A manually selected group of notes can be arranged into a statically playable configuration (if possible). This does not take into account the dynamics of previous and/or subsequent notes, which is an important aspect of the overall playability of a given piece.

A series of fretboard locations can be transcribed into tablature, preserving as much timing info as possible, although some is always lost with tabs compared to proper sheet music.

## Use
detect_lines.py will automatically try to detect stafflines in any .png images in its directory, and display the results in a plot with boxes drawn around the areas of interest, red around the staff itself, green around an expanded area to capture notes that extend beyond its limits. Simpler/cleaner images have a much higher success rate.