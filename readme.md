# tab
An attempt at parsing sheet music for guitar using computer vision. The goal of this project is two-fold. First, an image of a page of sheet music (for guitar) is processed using the OpenCV computer vision library to ultimately generate an ordered list of musical notes. These notes are then arranged into usable fretboard locations, seeking to maximize playability for a solo guitarist, and transcribed into tablature format.

## Dependencies
Python 3.7, plus three external libraries, are required to use this project:
```
OpenCV, version 3.3.1 or greater, but recent development is done using 4.0.1
Numpy, for manipulating the arrays generated by OpenCV
Matplotlib, for displaying the results of various stages of the program
```
Linux and Windows environments should both work, but MacOS has not been tested.

## Progress
Currently, a given image can be separated into individual staffline regions, and the presence and location of notes can be identified within them, with moderate accuracy.

A manually selected group of notes can be arranged into a statically playable shape, if possible.

A series of notes can be arranged into a dynamically playable pattern, taking into account the notes prior and subsequent to each given note to maximize overall playability with mixed, but interesting, results.

A series of fretboard locations can be transcribed into tablature, preserving as much timing info as possible, although some is always lost with tab compared to proper sheet music.

## Use
detect.py will automatically process any .png images in its directory. It will display the results in a plot with a red box drawn around the immediate boundary of each staff, green boxes around each staffs overall area of influence, and a blue circle around any notes identified. Accuracy is greater with higher resolution images and full length staffs, i.e. individual bars/measures often fail entirely.

test_detect.py will do the same for the images in the 'static/' directory of the repo.
